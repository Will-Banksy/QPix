# Minimum required version of cmake to build this project
cmake_minimum_required(VERSION 3.20)

# Set project name and version, and languages used
project(QPix VERSION 1.0 LANGUAGES CXX)

# Find the Qt6Widgets library
find_package(Qt6Widgets CONFIG REQUIRED)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Sets AUTOMOC and AUTOUIC to ON for us and other stuff I'm sure
qt6_standard_project_setup()

# Add the resources
qt6_add_resources(QT_RESOURCES assets.qrc)

# Auto-generated by the Makefile update-cmake-sources rule
set(SOURCES_CPP src/utils/Utils.cpp src/utils/PaintUtils.cpp src/ui/widgets/colourselector/ColourSlider.cpp src/ui/widgets/colourselector/ColourSelector.cpp src/ui/widgets/colourselector/ColourBoxSlider.cpp src/ui/widgets/ColourButton.cpp src/ui/widgets/abstract/AbstractVariantSlider.cpp src/ui/layouts/FlowLayout.cpp src/ui/components/toolbars/ToolSettingsView.cpp src/ui/components/toolbars/ToolSelectView.cpp src/ui/components/toolbars/ColourSelectView.cpp src/ui/components/status/StatusZoomView.cpp src/ui/components/ProjectView.cpp src/ui/components/floating/tooltip/HoverInfoEventFilter.cpp src/ui/components/floating/tooltip/FloatingTooltipView.cpp src/ui/components/floating/tooltip/FloatingInfoView.cpp src/ui/components/floating/modal/FloatingModalView.cpp src/ui/components/floating/FloatingView.cpp src/ui/components/canvas/ProjectCanvasView.cpp src/ui/components/AppView.cpp src/model/tools/ToolSettings.cpp src/model/tools/PipetteTool.cpp src/model/tools/PencilTool.cpp src/model/tools/LineTool.cpp src/model/tools/HandTool.cpp src/model/tools/EraserTool.cpp src/model/tools/BucketTool.cpp src/model/tools/AbstractTool.cpp src/model/ProjectModel.cpp src/model/AppModel.cpp src/Main.cpp)

# Auto-generated by the Makefile update-cmake-sources rule
set(SOURCES_H src/utils/Utils.h src/utils/PaintUtils.h src/utils/Option.h src/utils/Nullable.h src/ui/widgets/colourselector/ColourSlider.h src/ui/widgets/colourselector/ColourSelector.h src/ui/widgets/colourselector/ColourBoxSlider.h src/ui/widgets/ColourButton.h src/ui/widgets/abstract/AbstractVariantSlider.h src/ui/layouts/FlowLayout.h src/ui/components/toolbars/ToolSettingsView.h src/ui/components/toolbars/ToolSelectView.h src/ui/components/toolbars/ColourSelectView.h src/ui/components/status/StatusZoomView.h src/ui/components/ProjectView.h src/ui/components/floating/tooltip/HoverInfoEventFilter.h src/ui/components/floating/tooltip/FloatingTooltipView.h src/ui/components/floating/tooltip/FloatingInfoView.h src/ui/components/floating/modal/FloatingModalView.h src/ui/components/floating/FloatingView.h src/ui/components/canvas/ProjectCanvasView.h src/ui/components/AppView.h src/model/tools/ToolSettings.h src/model/tools/PipetteTool.h src/model/tools/PencilTool.h src/model/tools/LineTool.h src/model/tools/HandTool.h src/model/tools/EraserTool.h src/model/tools/BucketTool.h src/model/tools/AbstractTool.h src/model/ProjectModel.h src/model/AppModel.h src/Main.h)

set(SOURCES
	${SOURCES_CPP}
	${SOURCES_H}
)

# Tell CMake to create the executable qpix
add_executable(qpix ${SOURCES} ${QT_RESOURCES})

# So I don't have to include the src in #include "header" - includes that directory for target qpix
target_include_directories(qpix PRIVATE src)

# Link to Qt6::Widgets (also adds include paths I think)
target_link_libraries(qpix Qt6::Widgets)

# Install the executable
install(TARGETS qpix DESTINATION bin)